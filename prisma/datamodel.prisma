type User{
   id: ID! @id
   active: Boolean!
   grade: String!
   matricule: String! @unique
   username: String!
   fullname: String!
   phone: String! @unique
   super: Float!
   gazoil: Float!
   role: String!
   password: String!
   logs: [Log!] @relation(name:"UserLogs")
   bons: [Bon!] @relation(name:"UserBons")
   dotations: [Dotation!] @relation(name: "UserDotations")
   dotationEmetteurs: [DotationEmetteur!]! @relation(name: "UserDotationEmetteurs")
   hold: Hold @relation(name: "UserHolds")
   notifications: [Notification!] @relation(name: "UserNotifications")
   created_at: DateTime! @createdAt
}
type DotationEmetteur{
    id: ID! @id
    start_date: DateTime!
    end_date: DateTime!
    number_of_liter_super: Float!
    number_of_liter_gazoil: Float!
    motif: String!
    user: User! @relation(name: "UserDotationEmetteurs")
    created_at: DateTime! @createdAt
}
type Dotation{
    id: ID! @id
    motif: String!
    start_date: DateTime!
    end_date: DateTime!
    number_of_liter_dotated_super: Float!
    number_of_liter_received_super: Float!
    number_of_liter_dotated_gazoil: Float!
    number_of_liter_received_gazoil: Float!
    number_of_liter_dotated_reserve_super: Float!
    number_of_liter_received_reserve_super: Float!
    number_of_liter_dotated_reserve_gazoil: Float!
    number_of_liter_received_reserve_gazoil: Float!
    user: User @relation(name: "UserDotations")
    hold: Hold @relation(name: "HoldDotations") 
    created_at: DateTime! @createdAt
}
type Log{
    id: ID! @id
    action: String!
    user: User! @relation(name:"UserLogs")
    created_at: DateTime! @createdAt
}
type Hold{
    id: ID! @id
    name: String!
    localisation: String!
    super_capacity: Float!
    gazoil_capacity: Float!
    super_quantity: Float!
    gazoil_quantity: Float!
    theorical_super_quantity: Float!
    theorical_gazoil_quantity: Float!
    reserve_super_quantity: Float!
    reserve_gazoil_quantity: Float!
    theorical_reserve_super_quantity: Float!
    theorical_reserve_gazoil_quantity: Float!
    users: [User!] @relation(name:"UserHolds")
    bons: [HoldsOnBons!]
    cars: [Car!] @relation(name: "HoldCars")
    dotations: [Dotation!] @relation(name: "HoldDotations")
    created_at: DateTime! @createdAt
}
type HoldsOnBons{
    id: ID! @id
    hold: Hold! @relation(fields:[holdId],references:[id])
    bon: Bon! @relation(fields:[bonId],references:[id])
    created_at: DateTime! @createdAt
}
type Bon{
    id: ID! @id
    consumed: Boolean!
    coverage_when_consuming: Float!
    expiration_date: String!
    consumed_date: DateTime
    emission_date: DateTime!
    departure: String!
    destination: String!
    fuel_type: String!
    reason: String!
    number_of_liter: Float!
    initial_number_of_liter: Float!
    status: Boolean!
    user: User! @relation(name:"UserBons")
    car: Car
    holds: [HoldsOnBons!]
    driver: String!
    code: String!
    created_at: DateTime! @createdAt
}

type Notification{
id : ID! @id
user: User!  @relation(name: "UserNotifications")
message: String!
created_at: DateTime! @createdAt
}

type Car {
    id: ID! @id
    bon: Bon @relation(link: INLINE)
    hold: Hold! @relation(name: "HoldCars")
    image: String!
    marque: String!
    capacity: Float!
    type: String!
    immatriculation: String! @unique
    kilometrage: Float!
    created_at: DateTime! @createdAt
}